{% extends "layout.html" %}

{% block content %}
{% from "_formhelpers.html" import render_field %}

<h1>Badges</h1>
<p></p>
    
    
    <form method=post style="max-width: 220px">
    <dl>
        {{ render_field(form.badge_name, class = "form-control") }}
        {{ render_field(form.badge_description, class = "form-control") }}
        {{ render_field(form.badge_required_non_core_count, class = "form-control") }}
        {{ form.badge_id }}
    </dl>
    <p><input class="btn btn-primary" type=submit value="Add badge">
</form>

<br>
<button id="submit_button" class="btn btn-info"
                        onclick="recalculateBadges()" value="val_1" name="but1">Recalculate badges
                </button>
<br>
 <br>   
<table>
    <tr>
        <th>Badge ID</th>
        <th>Badge name</th>
        <th>Badge description</th>
        <th>Required non core badges</th>
        <th>Edit badge</th>
        <th>Configure badge</th>
    </tr>

    {% for badge in badges %}
        <tr>
            <td>{{badge.badge_id}}</td>
            <td>{{badge.badge_name}}</td>
            <td>{{badge.badge_description}}</td>
            <td>{{badge.badge_children_required_count}}</td>
            <td><a href="/admin/badge/{{badge.badge_id}}" class="btn btn-success" role="button">Edit</a></td>
            <td><a href="/admin/badge/edit/{{badge.badge_id}}" class="btn btn-success" role="button">Configure</a></td>
        </tr>
    {% endfor %}

</table>



{% endblock %}